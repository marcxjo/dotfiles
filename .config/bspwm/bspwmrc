#!/bin/sh

sxhkd &

_MONITORS=( $(xrandr --listactivemonitors | awk 'FNR > 1 {print $NF}') )

i=1

for mon in ${_MONITORS[@]}
do
  bspc monitor $mon -d wksp_${i}_1
  for j in {2..4}
  do
    bspc monitor $mon -a wksp_${i}_${j}
  done
  i=$(( $i + 1 ))
done

unset i

bspc config border_width               0
bspc config window_gap                32
bspc config top_padding                0
bspc config bottom_padding             0
bspc config left_padding              24
bspc config right_padding             24

bspc config -m DP-1-2 top_padding     32
bspc config -m DP-1-2 bottom_padding  32
bspc config -m DP-1-2 left_padding    240
bspc config -m DP-1-2 right_padding   240

bspc config split_ratio              0.50

# Wasteful, but attractive.
bspc config borderless_monocle      false
bspc config gapless_monocle         false

# Pointer settings.
bspc config click_to_focus           true
bspc config focus_follows_pointer   false
bspc config pointer_follows_focus   false

# Pointer events.
bspc config pointer_modifier      control
bspc config pointer_action1   resize_side
bspc config pointer_action2 resize_corner
bspc config pointer_action3          move

bspc rule -a Gimp     state=floating
bspc rule -a mpv     state=floating sticky=on focus=off
#bspc rule -a mpv      state=tiled desktop=^3
bspc rule -a Surf     state=tiled
bspc config external_rules_command "${HOME}/.config/bspwm/external_rules"

${HOME}/.config/bspwm/autostart &
