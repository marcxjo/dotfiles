#!/bin/bash

# MarÄ‰jo's Top LemonBar Panel
# Note that printf is used extensively in place of echo for alignment.
# Color codes are assumed to add 16 characters to any string,
# hence long string lengths for variables that include them.

export MON="mon_1"

while :; do
  if pgrep -x "Xorg" > /dev/null ; then
    echo "%{l}   $(${HOME}/.local/bin/bar-scripts/appmenu)    $(${HOME}/.local/bin/bar-scripts/plmenu)%{c}${P_SEP}   $(date '+%a, %b %d')   $(date '+%l:%M %p')   ${P_SEP}%{r}$(${HOME}/.local/bin/bar-scripts/netstatus)   $(${HOME}/.local/bin/bar-scripts/vol)   $(${HOME}/.local/bin/bar-scripts/kbd)   $(${HOME}/.local/bin/bar-scripts/caps)   $(${HOME}/.local/bin/bar-scripts/num)   $(< /etc/passwd grep "${USER}" | cut -d: -f5 | cut -d, -f1)   "
    sleep "0.2s"
  fi
done | $P_STRING1 | sh
