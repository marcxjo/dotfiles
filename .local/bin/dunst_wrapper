#!/bin/sh

# Reload dunst if it has already been started.
if [ "pgrep -c -x dunst" ]
then
	# dunst won't properly reload if we
	# use `pkill` in place of `killall`.
	killall -e dunst > /dev/null 2>&1
fi

_WIDTH="$(( $(bspc config right_padding) - $(bspc config window_gap) ))"
_HEIGHT="5"
_XOFF="$(bspc config window_gap)"
_YOFF="$(( $(bspc config window_gap) + $(bspc config bottom_padding) ))"
_GEOM="-geometry ${_WIDTH}x${_HEIGHT}-${_XOFF}-${_YOFF}"
_RCFILE="-config ${HOME}/.local/share/themes/bspwm/dunstrc"

exec dunst ${_GEOM} ${_RCFILE}
